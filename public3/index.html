<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=yes"> -->
<!-- <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> -->
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Bootstrap core CSS -->
    <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap core CSS -->
    <link href="bower_components/bootstrap/dist/js/bootstrap.bundle.min.js" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link rel="stylesheet" href="css/main.css" >
    <link rel="stylesheet" href="css/card.css">
    <link rel="stylesheet" href="css/vue-touch-keyboard.css">
    <link rel="stylesheet" href="bower_components/font-awesome/css/all.min.css">
    <!-- <link href="css/animate.css" rel="stylesheet"> -->

    <script src="js/vue.min.js"></script>
    <script src="js/vue-touch-keyboard.js"></script>
    <script src="bower_components/chart.js/dist/Chart.min.js"></script>
    <script src="bower_components/moment/moment.js"></script>
    <script src="bower_components/jquery/dist/jquery.min.js"></script>


    <!-- Plugin JavaScript -->
    <script src="bower_components/jquery-easing/jquery.easing.min.js"></script>

    <!-- Bootstrap core CSS -->
    <script href="bower_components/bootstrap/js/scrollspy.js"></script>

    <title>ATT 1200</title>


  </head>
  <body data-spy="scroll" data-target=".navbar" data-offset="50">
    <div id="app">
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top" id="mainNav" style="min-height: 7.5%;">

        <a class="navbar-brand navbar-left" href="#">
          <img src="img/tube.png" width="7%" height="7%" class="d-inline-block align-top" alt="" style="margin-right: 1%;">
          ATT 1200
        </a>

        <div class="navbar-time">
          <a class="navbar-brand" id="nav-time" href="#"></a>
        </div>
        <a id="#home-page" class="nav-link js-scroll-trigger navbar-right fas fa-home fa-2x" style="color:white" href="#home"> </a>
        <a id="setting-page" class="nav-link js-scroll-trigger navbar-right fas fa-cog fa-2x" style="color:white"  href="#setting"> </a>
      </nav>
      <section id="home">
        <div class="container-fluid ">
          <div class="row " style="margin-left: 1%; margin-top: 1%; margin-bottom: 1%; max-height: 65%;">
            <div class="col-xl-2 ">
              <div class="row" style="margin-top: 8%;">
                <div class="card border-danger mb-3" style="min-height: 250px; min-width: 200px;" >
                  <div class="card-body text-info text-center">
                    <h3 class="card-title ">ATT </h3>
                    <hr>
                     <i class="fas fa-stop card-status-icon" id="att-status-icon"></i>
                    <h4 class="card-text " id="att-status-text">Stop</h4>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="card border-danger mb-3" style="min-height: 250px; min-width: 200px;" >
                  <div class="card-body text-danger text-center">
                    <h3 class="card-title ">Tempus </h3>
                    <hr>
                     <i class="fas fa-times card-status-icon" id="tempus-status-icon"></i>
                    <h4 class="card-text " id="tempus-status-text">Ready</h4>
                  </div>
                </div>
              </div>
              <!-- <div class="row">
                <div class="card border-danger mb-3" style="min-height: 210px; min-width: 200px;" >
                  <div class="card-body text-danger text-center">
                    <h3 class="card-title ">Time:  </h3>
                    <hr>
                     <i class="fas fa-times card-status-icon" id="tempus-status-icon"></i>
                    <h4 class="card-text " id="tempus-status-text">Shutdown</h4>
                  </div>
                </div>
              </div> -->
            </div>
            <div class="col-xl-6" style="margin-left: 2%;">
              <div class="row d-flex justify-content-center" style="min-height: 50%;">
                  <div><canvas id="mychart" width="250" height="250"></canvas></div>
              </div>
              <div class="row d-flex justify-content-left" style="min-height: 50%;">
                <div class="card card-info border-danger mb-3" >
                  <div class="card-body text-center">
                    <h1 class="card-title ">Total tube </h1>
                    <hr>
                    <h1 class="card-text text-primary" id="total-tube">5000</h1>
                  </div>
                </div>
                <div class="card card-info border-danger mb-3" >
                  <div class="card-body text-center">
                    <h1 class="card-title ">Success </h1>
                    <hr>
                    <h1 class="card-text text-success" id="success-tube">4900</h1>
                  </div>
                </div>
              </div>

            </div>

            <div class="col-xl-3">
              <table class="table">
                <thead>
                  <tr>
                    <th>Succeeded (ID)</th>
                    <th>  Time </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>44562412</td>
                    <td>16:04:01</td>
                  </tr>
                  <tr>
                    <td>44562412</td>
                    <td>16:04:01</td>
                  </tr>
                  <tr>
                    <td>44562412</td>
                    <td>16:04:01</td>
                  </tr>
                  <tr>
                    <td>44562412</td>
                    <td>16:04:01</td>
                  </tr>
                  <tr>
                    <td>44562412</td>
                    <td>16:04:01</td>
                  </tr>
                  <tr>
                    <td>44562412</td>
                    <td>16:04:01</td>
                  </tr>
                  <tr>
                    <td>44562412</td>
                    <td>16:04:01</td>
                  </tr>
                  <tr>
                    <td>44562412</td>
                    <td>16:04:01</td>
                  </tr>
                  <tr>
                    <td>44562412</td>
                    <td>16:04:01</td>
                  </tr>
                  <tr>
                    <td>44562412</td>
                    <td>16:04:01</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="row" style="margin-top: 1%;">
            <div class="col-xl-4 d-flex justify-content-center">
              <button type="button" id="btPlay" class="btn btn-primary btn-circle btn-xl">
                <i class="fas fa-play fa-lg"></i>
                <h4>Start</h4>
              </button>

            </div>
            <div class="col-xl-4 d-flex justify-content-center">
              <button type="button" id="btPause" class="btn btn-warning btn-circle btn-xl">
                <i class="fas fa-pause fa-lg"></i>
                <h4>Pause</h4>
              </button>

            </div>
            <div class="col-xl-4 d-flex justify-content-center">
              <button type="button" id="btStop" class="btn btn-danger btn-circle btn-xl">
                <i class="fas fa-stop fa-lg"></i>
                <h4>Stop</h4>
              </button>
            </div>
        </div>
      </section>

      <section id="setting">
        <div id="container-setting" class="container">
          <div class="row">
            <div class="col-lg-8 mx-auto">
              <h1 class="text-center" >Searching tube</h1>
              <!-- <fieldset>
                <legend>Numeric layout</legend>

              </fieldset> -->
              <input type="text" placeholder="Enter blood tube ID" @focus="show" data-layout="numeric" onclick="this.value=''"/>
              <vue-touch-keyboard id="keyboard" v-if="visible" :layout="layout" :cancel="hide" :accept="accept" :input="input" :next="next" />
            </div>
          </div>
        </div>
      </section>
    </div>
  </body>

  <!-- Custom JavaScript for this theme -->
  <script src="js/scrolling-nav.js"></script>
  <script src="js/vue-keyboard.js"></script>
  <script  src="/socket.io/socket.io.js"></script>

  <script type="text/javascript">
    // var socket = io.connect();
    var chart_canvas = document.getElementById('mychart').getContext('2d');

    setInterval(function(){
      $("#nav-time").html(moment().format("Do MMM YY, h:mm:ss a"));
    });

    drawchart([5000, 100]);

    function drawchart(_dataset){
      chart = new Chart(chart_canvas, {
        type: 'doughnut',
        data: {
				datasets: [{
          data: _dataset,
          backgroundColor: [
            'rgba(0, 204, 102, 0.7)',
            'rgba(12, 97, 254, 0.7)'
            ,
          ],
          label: 'Dataset'
        }],
        labels: [
          'Succeeded',
          'Reject',
        ]
      },
      options: {
          responsive: true,
          legend: {
            position: '',
          },
          title: {
            display: false,
            text: 'Chart.js Doughnut Chart'
          },
          maintainAspectRatio: false,
          animation: {
            animateScale: true,
            animateRotate: true
          }
        }
      });
    }

    $( "#btPlay" ).click(function() {
      //alert( "Handler for .click() called." );
      $("#att-status-icon").attr('class', 'fas fa-play card-status-icon');
      $("#att-status-text").html("Running");
      socket.emit('control', 'start');
    });

    $( "#btPause" ).click(function() {
      //alert( "Handler for .click() called." );
      $("#att-status-icon").attr('class', 'fas fa-pause card-status-icon');
      $("#att-status-text").html("Pause");
      socket.emit('control', 'stop');
    });

    $( "#btStop" ).click(function() {
      //alert( "Handler for .click() called." );
      $("#att-status-icon").attr('class', 'fas fa-stop card-status-icon');
      $("#att-status-text").html("Stop");

    });

    $("#home-page").click(function(){
      console.log("adfaf");
      vm.hide();
    });

    function chartupdate(){
      // chart.data.labels = timeset;
      chart.data.datasets[0].data = dataset;
      chart.update();
    }
  </script>

</html>
